<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Rinn</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%; width:100%; overflow:hidden; font-family:'Baloo 2', cursive; background:#000; display:flex; justify-content:center; align-items:flex-start;}
#fireworkCanvas{position:absolute; top:0; left:0; width:100%; height:100%; z-index:0;}

/* Container */
.container, .login-container{
    position:relative;
    margin-top:50px;
    text-align:center;
    background: rgba(0,0,0,0.6);
    padding:30px 50px;
    border-radius:20px;
    backdrop-filter: blur(10px);
    color:#fff;
    z-index:10;
    max-width:1200px;
    width:90%;
    display:flex;
    flex-direction:column;
    opacity:0;
    transform:translateY(-30px);
    transition: all 1s ease;
    border:2px solid #8A2BE2;
    box-shadow:0 0 15px #8A2BE2;
}
.container.show, .login-container.show{
    opacity:1;
    transform:translateY(0);
}

/* Animasi glow */
@keyframes glowPulse{
    0%,100%{box-shadow:0 0 15px #8A2BE2;}
    50%{box-shadow:0 0 30px #DA70D6;}
}
.container, .login-container{
    animation: glowPulse 1.5s infinite;
}

/* Title */
h1{font-size:2.5rem; margin-bottom:20px; transition: all 1s ease;}

/* Text container */
.text-container{
    flex:1;
    overflow-y:auto;
    max-height:300px;
    margin-bottom:15px;
    text-align:left;
    padding:15px 20px;
    border-radius:15px;
    background: rgba(0,0,0,0.3);
    border:2px solid #8A2BE2;
    box-shadow:0 0 15px #8A2BE2;
    animation: glowPulse 1.5s infinite;
    position:relative;
}

/* Long text */
#typingText{font-size:1.15rem; line-height:1.6; white-space:pre-wrap; word-wrap:break-word;}
.highlight{color:#ff6b81;font-weight:600;}

/* Buttons */
button{
    padding:12px 30px;
    margin:5px;
    font-size:1.1rem;
    border-radius:30px;
    border:none;
    background: linear-gradient(45deg, #ff6b81, #ff9472);
    color:#fff;
    cursor:pointer;
    transition: all 0.3s ease;
    font-family:'Baloo 2', cursive;
    box-shadow: 0 5px 15px rgba(255,107,129,0.4);
}
button:hover{transform:scale(1.1); box-shadow:0 8px 25px rgba(255,107,129,0.6);}
button:active{transform:scale(0.95);}
#surpriseBtn{opacity:0; transform:scale(0); transition: all 0.5s ease;}
#typingText::after{content:"|"; display:inline-block; animation: blink 1s infinite;}
@keyframes blink{0%,50%,100%{opacity:1;}25%,75%{opacity:0;}}
.hidden{display:none;}
</style>
</head>
<body>

<canvas id="fireworkCanvas"></canvas>

<div class="login-container show" id="login">
    <h1>Nama palsu aku siapa?</h1>
    <div style="display:flex; justify-content:center; flex-wrap:wrap;">
        <button id="kyysBtn">Kyys</button>
        <button id="kyezBtn">Kyez</button>
    </div>
</div>

<div class="container hidden" id="mainContent">
    <h1>Selamat Tahun Baru , Sayang</h1>
    <div class="text-container"><div id="typingText"></div></div>
    <button id="surpriseBtn">Next!</button>
</div>

<audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" type="audio/mpeg">
</audio>

<audio id="fireworkSound">
    <source src="https://www.soundjay.com/misc/firework-1.mp3" type="audio/mpeg">
</audio>

<script>
// Music
const music=document.getElementById('bgMusic');
document.body.addEventListener('click',()=>{if(music.paused) music.play();});

// Login
const login=document.getElementById('login');
const kyysBtn=document.getElementById('kyysBtn');
const kyezBtn=document.getElementById('kyezBtn');
const mainContent=document.getElementById('mainContent');
const surpriseBtn=document.getElementById('surpriseBtn');

kyysBtn.addEventListener('click',()=>{
    login.classList.add('hidden');
    mainContent.classList.remove('hidden');
    mainContent.classList.add('show');
    startTyping();
});
kyezBtn.addEventListener('click',()=>{alert("Salah Woii");});

// Firework canvas
const canvas=document.getElementById('fireworkCanvas');
const ctx=canvas.getContext('2d');
let w=canvas.width=window.innerWidth;
let h=canvas.height=window.innerHeight;
window.addEventListener('resize',()=>{w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight;});

const fireworks=[]; const particles=[];
const fireworkSound=document.getElementById('fireworkSound');
function random(min,max){return Math.random()*(max-min)+min;}
class Firework{constructor(x,y,tx,ty){this.x=x; this.y=y; this.tx=tx; this.ty=ty; this.coordinates=[]; let c=3; while(c--){this.coordinates.push([this.x,this.y]);} this.angle=Math.atan2(ty-y,tx-x); this.speed=2; this.acceleration=1.05;}
update(index){this.coordinates.pop(); this.coordinates.unshift([this.x,this.y]); this.speed*=this.acceleration; let vx=Math.cos(this.angle)*this.speed; let vy=Math.sin(this.angle)*this.speed; this.x+=vx; this.y+=vy; if(Math.hypot(this.tx-this.x,this.ty-this.y)<this.speed){createParticles(this.tx,this.ty); fireworks.splice(index,1); fireworkSound.volume=0.2; fireworkSound.currentTime=0; fireworkSound.play();}}
draw(){ctx.beginPath(); ctx.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]); ctx.lineTo(this.x,this.y); ctx.strokeStyle=`hsl(${random(0,360)},100%,50%)`; ctx.stroke();}}
class Particle{constructor(x,y){this.x=x; this.y=y; this.coordinates=[]; let c=5; while(c--){this.coordinates.push([this.x,this.y]);} this.angle=random(0,Math.PI*2); this.speed=random(1,10); this.friction=0.95; this.gravity=0.7; this.hue=random(0,360); this.brightness=random(50,80); this.alpha=1; this.decay=random(0.015,0.03);}
update(index){this.coordinates.pop(); this.coordinates.unshift([this.x,this.y]); this.speed*=this.friction; this.x+=Math.cos(this.angle)*this.speed; this.y+=Math.sin(this.angle)*this.speed+this.gravity; this.alpha-=this.decay; if(this.alpha<=0) particles.splice(index,1);}
draw(){ctx.beginPath(); ctx.moveTo(this.coordinates[this.coordinates.length-1][0],this.coordinates[this.coordinates.length-1][1]); ctx.lineTo(this.x,this.y); ctx.strokeStyle=`hsla(${this.hue},100%,${this.brightness}%,${this.alpha})`; ctx.stroke();}}
function createParticles(x,y,count=50){for(let i=0;i<count;i++){particles.push(new Particle(x,y));}}
function animate(){requestAnimationFrame(animate); ctx.fillStyle='rgba(0,0,0,0.2)'; ctx.fillRect(0,0,w,h); for(let i=fireworks.length-1;i>=0;i--){fireworks[i].draw(); fireworks[i].update(i);} for(let i=particles.length-1;i>=0;i--){particles[i].draw(); particles[i].update(i);} if(Math.random()<0.02){let startX=w/2,startY=h, tx=random(0,w), ty=random(0,h/2); fireworks.push(new Firework(startX,startY,tx,ty));}}
animate();

// Typing long text
const textArr=[
"Makasih ya sayang, karena selalu ada untukku, menemani hari-hariku dengan kesabaran dan cinta.",
"Aku bersyukur setiap saat bisa bersama kamu, yang selalu setia, baik, dan penuh perhatian.",
"Kamu membuatku merasa aman dan dicintai setiap hari.",
"Terima kasih sudah sabar mendengarkan keluh kesahku, selalu memberi semangat saat aku lelah, dan membuatku tersenyum bahkan di hari-hari yang sulit.",
"Aku berharap kita bisa terus saling mendukung, tertawa bersama, dan menciptakan kenangan indah yang tak terlupakan.",
"Semoga ulang tahunmu ini penuh kebahagiaan, tawa, cinta, dan semua hal baik yang pantas kamu dapatkan.",
"Aku sayang kamu lebih dari kata-kata bisa jelaskan, dan aku bersyukur bisa merayakan momen spesial ini bersamamu."
];
const typingText=document.getElementById('typingText');
let lineIndex=0, charIndex=0;

function startTyping(){
    function typeLine(){
        if(lineIndex<textArr.length){
            const line=textArr[lineIndex];
            if(charIndex<line.length){
                typingText.innerHTML+=line.charAt(charIndex);
                charIndex++;
                typingText.parentElement.scrollTop = typingText.parentElement.scrollHeight;
                setTimeout(typeLine,30);
            }else{
                typingText.innerHTML+="\n";
                lineIndex++;
                charIndex=0;
                setTimeout(typeLine,150);
            }
        }else{
            surpriseBtn.style.opacity=1;
            surpriseBtn.style.transform="scale(1)";
        }
    }
    typeLine();
}

// Next button click
surpriseBtn.addEventListener('click',()=>{
    // Tambah banyak fireworks ke atas
    for(let i=0;i<150;i++){
        let startX=w/2,startY=h, tx=random(0,w), ty=random(0,h/3);
        fireworks.push(new Firework(startX,startY,tx,ty));
    }
    fireworkSound.volume=0.2; fireworkSound.currentTime=0; fireworkSound.play();

    // Tambah long text baru
    const newText=[
        "Aku cuma mau bilang, kamu itu luar biasa dan selalu bikin aku bahagia setiap hari.",
        "Semoga kita selalu bisa bersama, tertawa dan saling mendukung sepanjang waktu.",
        "Aku sayang kamu, dan semoga ulang tahunmu kali ini jadi yang terbaik!"
    ];
    newText.forEach(line=>{
        typingText.innerHTML+="\n"+line;
        typingText.parentElement.scrollTop=typingText.parentElement.scrollHeight;
    });

    setTimeout(()=>{window.location.href="https://wa.me/6285779083591"},3000);
});
</script>
</body>
</html>
